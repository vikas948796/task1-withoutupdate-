{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\vikas\\\\Downloads\\\\TaskManager-master\\\\TaskManager-master\\\\client\\\\src\\\\home.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport React from 'react';\nconst api = axios.create({\n  baseURL: \"http://localhost:5000/\"\n});\n\nfunction Home() {\n  _s();\n\n  let history = useHistory();\n  const [name, setName] = useState('');\n  const [list, setList] = useState([]);\n\n  const fetchData = async () => {\n    try {\n      const response = await api.get(\"/\");\n      console.log(response.data.data.list);\n      setList(response.data.data.list);\n    } catch (err) {}\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      console.log(name);\n      const response = await api.post(\"/create\", {\n        name\n      });\n      console.log(response);\n      setName(\"\");\n      fetchData();\n    } catch (err) {}\n  };\n\n  const handleDelete = async (e, name) => {\n    e.stopPropagation();\n\n    try {\n      const response = await api.post('/delete', {\n        name\n      });\n      console.log(response);\n      fetchData();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleUpdate = async (e, name, completed) => {\n    e.stopPropagation();\n    history.push(\"/delete\"); // try {\n    //   const response = await api.put('/update',{\n    //     name,\n    //     completed\n    //   });\n    //   console.log(response);\n    //   fetchData();\n    //   }catch(err){\n    //     console.log(err);\n    //   }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Task Manager - PERN demo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            onClick: handleSubmit,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"head\",\n        children: \"Content Read from POSTGRES via Express API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), list && list.map(l => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [l.name, \"\\xA0\", l.completed === true ? 'Done' : 'Not Done']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => handleUpdate(e, l.name, l.completed),\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => handleDelete(e, l.name),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 22\n          }, this)]\n        }, list.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Home, \"fzWwauuo1e+xPWtmhP/oksDivFE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/vikas/Downloads/TaskManager-master/TaskManager-master/client/src/home.js"],"names":["axios","useEffect","useState","useHistory","React","api","create","baseURL","Home","history","name","setName","list","setList","fetchData","response","get","console","log","data","err","handleSubmit","e","preventDefault","post","handleDelete","stopPropagation","handleUpdate","completed","push","target","value","map","l","id"],"mappings":"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","sourcesContent":["import './App.css';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport  { useHistory } from 'react-router-dom';\nimport React from 'react';\nconst api = axios.create({\n  baseURL : \"http://localhost:5000/\"\n});\n\n\nfunction Home() {\n\n    let history = useHistory();\n  \n    const [name,setName] = useState('');\n    const [list,setList] = useState([]);\n  \n    const fetchData = async ()=>{\n      try{\n          const response = await api.get(\"/\");\n          console.log(response.data.data.list);\n          setList(response.data.data.list);\n      }catch(err){}\n  };\n    const handleSubmit = async (e)=>{\n      e.preventDefault();\n      try{\n        console.log(name);\n        const response =  await api.post(\"/create\", {\n          name\n        }\n        );\n        console.log(response);\n        setName(\"\");\n        fetchData();\n      }catch(err){}\n    };\n  \n    const handleDelete = async (e,name)=>{\n      e.stopPropagation();\n      try {\n        const response = await api.post('/delete',{\n          name\n        });\n        console.log(response);\n        fetchData();\n        }catch(err){\n          console.log(err);\n        }\n      }\n  \n    const handleUpdate = async (e,name,completed)=>{\n      e.stopPropagation();\n      history.push(\"/delete\");\n      // try {\n      //   const response = await api.put('/update',{\n      //     name,\n      //     completed\n      //   });\n      //   console.log(response);\n      //   fetchData();\n      //   }catch(err){\n      //     console.log(err);\n      //   }\n  }\n  \n    useEffect(() => {\n      fetchData();\n    }, [])\n  \n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <p>\n           Task Manager - PERN demo\n          </p>\n          <form action=\"\">\n           <div>\n            <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Name\"\n                value = { name }\n                onChange = {(e)=>setName(e.target.value)}\n            />\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              onClick = {handleSubmit}\n            >\n              Add\n            </button>\n            </div> \n          </form>\n          <span className=\"head\">\n            Content Read from POSTGRES via Express API\n          </span>\n          {list &&\n             \n              list.map((l) => {\n                return(\n                <div key={ list.id }>\n  \n                     <h3>{ l.name }&nbsp;{ l.completed === true ? 'Done' : 'Not Done' }</h3>\n                     <button  onClick ={ (e) => handleUpdate(e,l.name,l.completed)}>Update</button>\n                \n                     <button  onClick = { (e) =>  handleDelete(e,l.name)}>Delete</button>\n                </div>\n                )\n              })\n              \n          }\n        </header>\n      </div>\n    );\n  }\n  \n  export default Home;"]},"metadata":{},"sourceType":"module"}